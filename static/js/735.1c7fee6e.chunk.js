"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[735],{7735:function(e,a,n){n.d(a,{Z:function(){return de}});var s=n(1413),i=n(3433),r=n(9439),t=n(2791),c=n(4420),l=n(838),o=n(6351),d="Card_card__p9wzB",_="Card_thumb__O-QoT",u="Card_image__KXII6",m="Card_content__tHczi",x="Card_header__JB9vN",h="Card_title__Zw-kE",v="Card_details__KhXqG",j="Card_rating__zrX06",f="Card_ratingBar__ZxESc",p="Card_locationBar__z2m4+",N="Card_icon__lEuiy",C="Card_iconFilled__kCj9H",g="Card_iconLocation__D+PIh",w="Card_info__TwdYW",k="Card_infoItem__ahNrV",Z="Card_footer__wkzrf",D="Card_price__Tr8C5",b="Card_priceBar__BKKPl",y="Card_iconHeart__Pexp4",B="Card_iconHeartFav__2cuSH",S="Card_addButton__8gx2X",H="Card_description__L0N9-",T=n(3439);var E=n.p+"static/media/ac.8c4fa90691be77f67845b470271c8593.svg",L=n(6975),M=n(3333),R=n(184),F=function(e){var a=e.gallery,n=e.name,s=e.price,i=e.rating,r=e.location,t=e.adults,F=e.transmission,I=e.tank,V=e.reviews,z=e.description,P=e.details,q=e._id,A=e.handleShowMore,X=(0,c.v9)(o.Tc),K=(0,c.I0)(),O=X.some((function(e){return e===q}))?"".concat(y," ").concat(B):"".concat(y);return(0,R.jsxs)("li",{className:d,children:[(0,R.jsx)("div",{className:_,children:(0,R.jsx)("img",{src:a[0],alt:n,className:u,loading:"lazy"})}),(0,R.jsxs)("div",{className:m,children:[(0,R.jsxs)("div",{className:x,children:[(0,R.jsx)("h2",{className:h,children:n}),(0,R.jsxs)("div",{className:D,children:[(0,R.jsx)("div",{className:b,children:(0,M.T4)(s)}),(0,R.jsx)(L.Z,{className:S,onClick:function(){return K((0,l.j)(q))},whileClick:{scale:.5},children:(0,R.jsx)("svg",{className:O,children:(0,R.jsx)("use",{xlinkHref:"".concat(T.Z,"#icon-heart")})})})]})]}),(0,R.jsxs)("div",{className:v,children:[(0,R.jsxs)("div",{className:j,children:[(0,R.jsx)("svg",{className:N,children:(0,R.jsx)("use",{xlinkHref:"".concat(T.Z,"#icon-star")})}),(0,R.jsxs)("span",{className:f,children:[i," (",V.length," Reviews)"]})]}),(0,R.jsxs)("div",{className:p,children:[(0,R.jsx)("svg",{className:N,children:(0,R.jsx)("use",{xlinkHref:"".concat(T.Z,"#icon-location")})}),(0,R.jsx)("span",{children:r})]})]}),(0,R.jsx)("p",{className:H,children:z}),(0,R.jsxs)("div",{className:w,children:[(0,R.jsxs)("div",{className:k,children:[(0,R.jsx)("svg",{className:C,children:(0,R.jsx)("use",{xlinkHref:"".concat(T.Z,"#icon-adults")})}),(0,R.jsxs)("span",{children:[t," adults"]})]}),(0,R.jsxs)("div",{className:k,children:[(0,R.jsx)("svg",{className:g,children:(0,R.jsx)("use",{xlinkHref:"".concat(T.Z,"#icon-transmission")})}),(0,R.jsx)("span",{children:F})]}),(0,R.jsxs)("div",{className:k,children:[(0,R.jsx)("svg",{className:C,children:(0,R.jsx)("use",{xlinkHref:"".concat(T.Z,"#icon-petrol")})}),(0,R.jsx)("span",{children:I})]}),(0,R.jsxs)("div",{className:k,children:[(0,R.jsx)("svg",{className:g,children:(0,R.jsx)("use",{xlinkHref:"".concat(T.Z,"#icon-kitchen")})}),(0,R.jsx)("span",{children:P.kitchen})]}),(0,R.jsxs)("div",{className:k,children:[(0,R.jsx)("svg",{className:g,children:(0,R.jsx)("use",{xlinkHref:"".concat(T.Z,"#icon-beds")})}),(0,R.jsxs)("span",{children:[P.beds," beds"]})]}),P.airConditioner&&(0,R.jsxs)("div",{className:k,children:[(0,R.jsx)("img",{src:E,alt:"wind icon",className:N}),(0,R.jsx)("span",{children:"AC"})]})]}),(0,R.jsx)("div",{className:Z,children:(0,R.jsx)(L.Z,{label:"Show more",onClick:function(){return A(q)}})})]})]})},I=n(4164),V=n(7895),z="Modal_modalOverlay__E0GGw",P="Modal_modalContent__2Ple8",q="Modal_button__DLGyI",A="Modal_icon__N85zq",X=(0,t.forwardRef)((function(e,a){var n=e.children,s=(0,t.useRef)(),i=(0,t.useState)(!1),c=(0,r.Z)(i,2),l=c[0],o=c[1],d=(0,t.useContext)(V.Z).toggleModal;(0,t.useImperativeHandle)(a,(function(){return{open:function(){o(!0),d(),document.addEventListener("keydown",_),document.querySelector("body").style.overflow="hidden"},close:function(){o(!1),d(),document.removeEventListener("keydown",_),document.querySelector("body").style.overflow="auto"}}}));var _=(0,t.useCallback)((function(e){"Escape"===e.key&&a.current.close()}),[a]);return(0,t.useEffect)((function(){return function(){document.removeEventListener("keydown",_)}}),[_]),(0,I.createPortal)((0,R.jsx)(R.Fragment,{children:l&&(0,R.jsx)("div",{ref:s,className:z,onClick:function(e){e.target===s.current&&a.current.close()},children:(0,R.jsxs)("div",{className:P,children:[(0,R.jsx)("button",{className:q,onClick:function(){a.current.close()},children:(0,R.jsx)("svg",{className:A,children:(0,R.jsx)("use",{xlinkHref:"".concat(T.Z,"#icon-close")})})}),n]})})}),document.getElementById("modal-root"))})),K={modalContent:"DetailedCard_modalContent__4tFWe",location:"DetailedCard_location__UVQ-B",images:"DetailedCard_images__7xrxM",image:"DetailedCard_image__TVqHM",tabs:"DetailedCard_tabs__pxNqi",tab:"DetailedCard_tab__wScaC",active:"DetailedCard_active__-0yC9",feature:"DetailedCard_feature__9wqkB",vehicleDetails:"DetailedCard_vehicleDetails__Bz92d",reviews:"DetailedCard_reviews__dX65A",review:"DetailedCard_review__DTIfJ",reviewHeader:"DetailedCard_reviewHeader__VXfaN",letter:"DetailedCard_letter__+c1zw",reviewAuthor:"DetailedCard_reviewAuthor__3yKRY",reviewRating:"DetailedCard_reviewRating__69od8",header:"DetailedCard_header__PLgVP",icon:"DetailedCard_icon__u4Deo",popIcon:"DetailedCard_popIcon__sgmly",ratingBar:"DetailedCard_ratingBar__HSPen",title:"DetailedCard_title__0s15q",details:"DetailedCard_details__Wv+zh",ratingLocation:"DetailedCard_ratingLocation__XBNbV",rating:"DetailedCard_rating__PyN23",locationBar:"DetailedCard_locationBar__Li6ag",price:"DetailedCard_price__SkUrl",gallery:"DetailedCard_gallery__0xRXy",descriptionBar:"DetailedCard_descriptionBar__miNtT",description:"DetailedCard_description__p-hQD",hidden:"DetailedCard_hidden__eaxNa",buttonMore:"DetailedCard_buttonMore__4u3oM",footer:"DetailedCard_footer__Owmqa",tabContent:"DetailedCard_tabContent__UsnSA",detailsTitle:"DetailedCard_detailsTitle__E5lVy",detailsList:"DetailedCard_detailsList__JnbsE",detailTitle:"DetailedCard_detailTitle__Y11FP",detailValue:"DetailedCard_detailValue__ORuxv",featuresList:"DetailedCard_featuresList__RQ3W1",featuresItem:"DetailedCard_featuresItem__M8mYz"},O=n(4942),Q=n(9928),Y=n(9513),W=n.n(Y),G=(n(8639),{formTitle:"BookingForm_formTitle__rmybQ",bookingForm:"BookingForm_bookingForm__efeBu",slogan:"BookingForm_slogan__voZ2M",error:"BookingForm_error__zuh2T",dateBar:"BookingForm_dateBar__O-g33",icon:"BookingForm_icon__l4V3g"}),J=n(5861),U=n(7757),$=n.n(U),ee=n(5294),ae=n(2564),ne=function(){var e=(0,J.Z)($().mark((function e(a){var n,s;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ee.Z.post("/bookings",{details:a});case 3:return n=e.sent,s=n.data,(0,ae.Am)("Your booking has been registered."),e.abrupt("return",s);case 9:return e.prev=9,e.t0=e.catch(0),(0,ae.Am)("Error. Please, try again later."),e.abrupt("return",console.error(e.t0.message));case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(a){return e.apply(this,arguments)}}(),se=n(6393),ie=function(){var e=(0,t.useState)(se.BK),a=(0,r.Z)(e,2),n=a[0],i=a[1],c=(0,t.useState)({}),l=(0,r.Z)(c,2),o=l[0],d=l[1],_=(0,t.useState)(null),u=(0,r.Z)(_,2),m=u[0],x=u[1],h=(0,t.useState)(!1),v=(0,r.Z)(h,2),j=v[0],f=v[1],p=(0,t.useRef)(),N=function(e){var a=e.target,r=a.name,t=a.value;d((function(e){return(0,s.Z)((0,s.Z)({},e),{},(0,O.Z)({},r,""))})),i((0,s.Z)((0,s.Z)({},n),{},(0,O.Z)({},r,t)))},C=j?{x:[-5,5,-5,5,-5,5,0],transition:{duration:.4}}:{};return(0,R.jsxs)("div",{className:G.bookingForm,children:[(0,R.jsx)("h4",{className:G.formTitle,children:"Book your campervan now"}),(0,R.jsx)("span",{className:G.slogan,children:"Stay connected! We are always ready to help you."}),(0,R.jsxs)("form",{className:G.form,ref:p,children:[(0,R.jsx)("input",{type:"text",name:"name",placeholder:"Name",value:n.name,onChange:N}),o.name&&(0,R.jsx)(Q.E.span,{className:G.error,initial:{x:0},animate:C,children:o.name}),(0,R.jsx)("input",{type:"email",name:"email",placeholder:"Email",value:n.email,onChange:N}),o.email&&(0,R.jsx)(Q.E.span,{className:G.error,initial:{x:0},animate:C,children:o.email}),(0,R.jsxs)("div",{className:G.dateBar,children:[(0,R.jsx)(W(),{selected:m,name:"date",onChange:function(e){x(e),d((function(e){return(0,s.Z)((0,s.Z)({},e),{},{date:""})})),i((0,s.Z)((0,s.Z)({},n),{},{date:e}))},placeholderText:"Booking date"}),(0,R.jsx)("svg",{className:G.icon,children:(0,R.jsx)("use",{xlinkHref:"".concat(T.Z,"#icon-calendar")})})]}),o.date&&(0,R.jsx)(Q.E.span,{className:G.error,initial:{x:0},animate:C,children:o.date}),(0,R.jsx)("textarea",{name:"comment",placeholder:"Comment",rows:"4",onChange:N,value:n.comment}),o.comment&&(0,R.jsx)(Q.E.span,{className:G.error,initial:{x:0},animate:C,children:o.comment}),(0,R.jsx)(L.Z,{label:"Send",type:"submit",location:"sidebar",onClick:function(e){e.preventDefault();var a=(0,M.t4)((0,s.Z)((0,s.Z)({},n),{},{date:m}));d(a),0===Object.keys(a).length?(ne((0,s.Z)((0,s.Z)({},n),{},{date:m})),i(se.BK),x(null)):(f(!0),setTimeout((function(){return f(!1)}),500))}})]})]})},re=function(e){var a=e.card,n=e.isDescriptionHidden,s=e.setDecriptionState,i=(0,t.useState)("features"),c=(0,r.Z)(i,2),l=c[0],o=c[1],d=(0,M.ab)(a.details),_=(0,M.re)(a);return(0,R.jsxs)("section",{className:K.modalContent,children:[(0,R.jsxs)("header",{className:K.header,children:[(0,R.jsx)("h2",{className:K.title,children:a.name}),(0,R.jsxs)("div",{className:K.ratingLocation,children:[(0,R.jsxs)("div",{className:K.rating,onClick:function(){o("reviews")},children:[(0,R.jsx)("svg",{className:K.icon,children:(0,R.jsx)("use",{xlinkHref:"".concat(T.Z,"#icon-star")})}),(0,R.jsxs)("span",{className:K.ratingBar,children:[a.rating," (",a.reviews.length," Reviews)"]})]}),(0,R.jsxs)("div",{className:K.locationBar,children:[(0,R.jsx)("svg",{className:K.icon,children:(0,R.jsx)("use",{xlinkHref:"".concat(T.Z,"#icon-location")})}),(0,R.jsx)("span",{children:a.location})]})]}),(0,R.jsx)("span",{className:K.price,children:(0,M.T4)(a.price)})]}),(0,R.jsx)("div",{className:K.gallery,children:a.gallery.map((function(e,a){return(0,R.jsx)("img",{src:e,className:K.image,alt:"Slide ".concat(a)},a)}))}),(0,R.jsxs)("div",{className:K.descriptionBar,children:[(0,R.jsx)("p",{className:n?K.description:"".concat(K.description," ").concat(K.hidden),children:a.description}),(0,R.jsx)("button",{onClick:function(){s((function(e){return!e}))},className:K.buttonMore,children:n?"Read less":"Read more"})]}),(0,R.jsxs)("nav",{className:K.tabs,children:[(0,R.jsx)("button",{className:"".concat(K.tab," ").concat("features"===l?K.active:""),onClick:function(){return o("features")},children:"Features"}),(0,R.jsx)("button",{className:"".concat(K.tab," ").concat("reviews"===l?K.active:""),onClick:function(){return o("reviews")},children:"Reviews"})]}),(0,R.jsxs)("div",{className:K.footer,children:[(0,R.jsxs)("div",{className:K.tabContent,children:["features"===l&&(0,R.jsxs)("div",{className:K.features,children:[(0,R.jsx)("ul",{className:K.featuresList,children:d&&d.map((function(e){return(0,R.jsxs)("li",{className:K.featuresItem,children:[(0,R.jsx)("svg",{className:K.popIcon,children:(0,R.jsx)("use",{xlinkHref:"".concat(T.Z,"#icon-").concat(e.iconName)})}),(0,R.jsx)("span",{className:K.featuresValue,children:e.value}),(0,R.jsx)("span",{className:K.featuresName,children:e.name})]},e.name)}))}),(0,R.jsxs)("div",{className:K.vehicleDetails,children:[(0,R.jsx)("h4",{className:K.detailsTitle,children:"Vehicle details"}),(0,R.jsx)("ul",{className:K.detailsList,children:_.map((function(e,a){return(0,R.jsxs)("li",{children:[(0,R.jsx)("span",{className:K.detailTitle,children:e.name}),(0,R.jsx)("span",{className:K.detailValue,children:e.value})]},a)}))})]})]}),"reviews"===l&&(0,R.jsx)("div",{className:K.reviews,children:a.reviews.map((function(e,a){return(0,R.jsxs)("div",{className:K.review,children:[(0,R.jsxs)("div",{className:K.reviewHeader,children:[(0,R.jsx)("span",{className:K.letter,children:e.reviewer_name[0]}),(0,R.jsxs)("div",{children:[(0,R.jsx)("h3",{className:K.reviewAuthor,children:e.reviewer_name}),(0,R.jsx)("span",{className:K.reviewRating,children:Array.from({length:e.reviewer_rating},(function(e,a){return(0,R.jsx)("svg",{className:K.icon,children:(0,R.jsx)("use",{xlinkHref:"".concat(T.Z,"#icon-star")})},a)}))})]})]}),(0,R.jsx)("p",{className:K.comment,children:e.comment})]},a)}))})]}),(0,R.jsx)(ie,{})]})]})},te=n(3791),ce="ScrollToTopButton_button__x7ka4",le="ScrollToTopButton_icon__pQptD",oe=function(){var e=(0,t.useState)(!1),a=(0,r.Z)(e,2),n=a[0],s=a[1],i=(0,t.useState)(!1),c=(0,r.Z)(i,2),l=c[0],o=c[1],d=(0,t.useContext)(V.Z).isModalShown,_=function(){window.scrollY>300?s(!0):s(!1)},u=l?{y:[0,-10,0],duration:.5,opacity:1}:{opacity:1};return(0,t.useEffect)((function(){return window.addEventListener("scroll",_),function(){window.removeEventListener("scroll",_)}}),[]),(0,R.jsx)("div",{className:"scroll-to-top",children:(0,R.jsx)(te.M,{children:n&&!d&&(0,R.jsx)(Q.E.button,{initial:{opacity:0},exit:{opacity:0},transition:{duration:.3},animate:u,onClick:function(){window.scrollTo({top:0,behavior:"smooth"})},onMouseEnter:function(){o(!0),setTimeout((function(){return o(!1)}),500)},className:ce,children:(0,R.jsx)("svg",{className:le,children:(0,R.jsx)("use",{xlinkHref:"".concat(T.Z,"#icon-arrow-top")})})})})})},de=function(e){var a=e.cards,n=(0,t.useState)(null),c=(0,r.Z)(n,2),l=c[0],o=c[1],d=(0,t.useState)(!0),_=(0,r.Z)(d,2),u=_[0],m=_[1],x=(0,t.useRef)(),h=function(e){o(e),x.current.open(),m(!1)},v=(0,i.Z)(a).find((function(e){return e._id===l}));return(0,R.jsxs)(Q.E.ul,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5},children:[a.map((function(e){return(0,t.createElement)(F,(0,s.Z)((0,s.Z)({},e),{},{key:e._id,handleShowMore:h}))})),(0,R.jsx)(X,{ref:x,children:v&&(0,R.jsx)(re,{card:v,isDescriptionHidden:u,setDecriptionState:m})}),(0,R.jsx)(oe,{})]})}}}]);
//# sourceMappingURL=735.1c7fee6e.chunk.js.map